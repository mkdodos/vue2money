(function(e){function t(t){for(var a,i,c=t[0],s=t[1],d=t[2],u=0,m=[];u<c.length;u++)i=c[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&m.push(r[i][0]),r[i]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);l&&l(t);while(m.length)m.shift()();return o.push.apply(o,d||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,c=1;c<n.length;c++){var s=n[c];0!==r[s]&&(a=!1)}a&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={app:0},o=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/vue2money/dist/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var l=s;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0af9":function(e,t,n){},1308:function(e,t,n){},5384:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-app-bar",{attrs:{app:"",dark:""}},[n("div",{staticClass:"d-flex align-center"},[e._v("理財專家 1.0")]),n("v-spacer"),n("Toolbar")],1),n("v-main",[n("v-container",[n("router-view")],1)],1)],1)},o=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-toolbar",{attrs:{dense:""}},[n("v-app-bar-nav-icon"),n("v-spacer"),n("v-btn",{attrs:{text:"",to:"/score"}},[e._v("Score")]),n("v-spacer"),n("v-btn",{attrs:{to:"/stock",text:""}},[e._v("Stock")]),n("v-spacer"),n("v-btn",{attrs:{to:"/spend",text:""}},[e._v("Spend")]),n("v-spacer"),n("v-btn",{attrs:{to:{name:"StockTransactionAll"},text:""}},[e._v(" 股票交易 ")]),n("v-spacer"),n("v-btn",{on:{click:e.logout}},[e._v("登出")])],1)],1)},c=[],s=(n("ac1f"),n("5319"),n("260b")),d=n("ea7b"),l={apiKey:"AIzaSyClLeHQJMt3BzbrK_AHpWeq0nlqzY2r5ik",authDomain:"money-39797.firebaseapp.com",projectId:"money-39797",storageBucket:"money-39797.appspot.com",messagingSenderId:"142963352306",appId:"1:142963352306:web:ac3c09e593009a5175666b",measurementId:"G-012VKYDZ07"};Object(s["a"])(l);var u=Object(d["a"])(),m={methods:{logout:function(){var e=this;console.log("log"),Object(d["c"])(u).then((function(){e.$router.replace("/login")}))}}},v=m,p=(n("60f8"),n("2877")),f=n("6544"),b=n.n(f),h=n("5bc1"),g=n("8336"),w=n("2fa4"),x=n("71d9"),I=Object(p["a"])(v,i,c,!1,null,null,null),y=I.exports;b()(I,{VAppBarNavIcon:h["a"],VBtn:g["a"],VSpacer:w["a"],VToolbar:x["a"]});var k={name:"App",components:{Toolbar:y},data:function(){return{}}},O=k,_=n("7496"),j=n("40dc"),R=n("a523"),S=n("f6c4"),V=Object(p["a"])(O,r,o,!1,null,null,null),D=V.exports;b()(V,{VApp:_["a"],VAppBar:j["a"],VContainer:R["a"],VMain:S["a"],VSpacer:w["a"]});var T=n("f309");a["a"].use(T["a"]);var C=new T["a"]({}),$=n("8c4f"),q=(n("d3b7"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{on:{click:e.login}},[e._v("login")])}),A=[],E={apiKey:"AIzaSyClLeHQJMt3BzbrK_AHpWeq0nlqzY2r5ik",authDomain:"money-39797.firebaseapp.com",projectId:"money-39797",storageBucket:"money-39797.appspot.com",messagingSenderId:"142963352306",appId:"1:142963352306:web:ac3c09e593009a5175666b",measurementId:"G-012VKYDZ07"},B=(Object(s["a"])(E),Object(d["a"])()),M="mk123@gmail.com",N="123456",z={methods:{login:function(){var e=this;Object(d["b"])(B,M,N).then((function(t){var n=t.user;console.log(n.email),e.$router.replace("stock-transaction")}))}}},K=z,P=Object(p["a"])(K,q,A,!1,null,null,null),F=P.exports,H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-data-table",{attrs:{headers:e.headers,items:e.rows},scopedSlots:e._u([{key:"item.name",fn:function(t){var a=t.item;return[n("router-link",{attrs:{to:{name:"StockTransaction",params:{id:a.id}}}},[e._v(" "+e._s(a.name)+" ")])]}}])})],1)},Y=[],J={data:function(){return{headers:[{text:"代碼",value:"id"},{text:"名稱",value:"name"}],rows:[{id:"2002",name:"中鋼"},{id:"2603",name:"長榮"},{id:"2330",name:"台積電"},{id:"2412",name:"中華電"}]}}},L=J,G=n("8fea"),Q=Object(p["a"])(L,H,Y,!1,null,null,null),W=Q.exports;b()(Q,{VDataTable:G["a"]});var Z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-app",[n("v-row",{attrs:{justify:"center"}},[n("v-col",{attrs:{md:"8"}},[n("v-toolbar",{staticClass:"mb-8"},[n("v-app-bar-nav-icon"),n("v-toolbar-title",[e._v("支出 "+e._s(e.getTotal(e.rows)))]),n("v-spacer"),n("v-btn",{attrs:{icon:"",color:"green darken-2"},on:{click:e.openForm}},[n("v-icon",[e._v("mdi-plus-circle-outline")])],1),n("v-btn",{attrs:{icon:"",color:"orange darken-2"}},[n("v-icon",[e._v("mdi-home-heart")])],1),n("v-btn",{attrs:{icon:""}},[n("v-icon",[e._v("mdi-dots-vertical")])],1)],1),n("v-form",{directives:[{name:"show",rawName:"v-show",value:e.isEdit,expression:"isEdit"}]},[n("v-text-field",{attrs:{label:"日期",type:"date"},model:{value:e.editedItem.date,callback:function(t){e.$set(e.editedItem,"date",t)},expression:"editedItem.date"}}),n("v-text-field",{attrs:{label:"項目","hide-details":"auto"},model:{value:e.editedItem.title,callback:function(t){e.$set(e.editedItem,"title",t)},expression:"editedItem.title"}}),n("v-text-field",{attrs:{label:"金額",type:"number"},model:{value:e.editedItem.amt,callback:function(t){e.$set(e.editedItem,"amt",t)},expression:"editedItem.amt"}}),n("v-row",{staticClass:"mb-6"},[n("v-col",{staticClass:"text-left"},[e.editedIndex>-1?n("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(e.editedItem.id,e.editedIndex)}}},[e._v("mdi-delete")]):e._e()],1),n("v-col",{staticClass:"text-right"},[n("v-btn",{staticClass:"white--text",attrs:{color:"green"},on:{click:e.save}},[e._v("儲存")])],1)],1)],1),n("v-simple-table",[n("thead",[n("tr",[n("th",[e._v("日期")]),n("th",[e._v("項目")]),n("th",[e._v("金額")]),n("th")])]),n("tbody",e._l(e.rows,(function(t,a){return n("tr",{key:a},[n("td",[n("v-badge",{attrs:{color:e.getColor(t.date),content:e.getDate(t.date)}})],1),n("td",[e._v(e._s(t.title))]),n("td",[e._v(e._s(t.amt))]),n("td",[n("v-icon",{attrs:{small:""},on:{click:function(n){return e.editItem(t)}}},[e._v("mdi-pencil")])],1)])})),0)])],1)],1)],1)],1)},U=[],X=n("1da1"),ee=(n("96cf"),n("fb6a"),n("b64b"),n("a434"),n("159b"),n("a680")),te={apiKey:"AIzaSyClLeHQJMt3BzbrK_AHpWeq0nlqzY2r5ik",authDomain:"money-39797.firebaseapp.com",projectId:"money-39797",storageBucket:"money-39797.appspot.com",messagingSenderId:"142963352306",appId:"1:142963352306:web:ac3c09e593009a5175666b",measurementId:"G-012VKYDZ07"},ne=Object(s["a"])(te),ae=Object(ee["g"])(ne),re=ae,oe="spends",ie={data:function(){return{rows:[],title:"",amt:"",isEdit:!1,editedIndex:-1,editedItem:{title:"",amt:"",date:(new Date).toISOString().slice(0,10)},defaultItem:{title:"",amt:"",date:""}}},mounted:function(){this.getMoney(),console.log((new Date).toLocaleDateString())},methods:{getColor:function(e){var t=e.toDate().getDay(),n="blue-grey";return"6"==t?n="green":"0"==t&&(n="error"),n},getDate:function(e){return e.toDate().getDate()},getTotal:function(e){console.log(e);var t=Object.keys(e).reduce((function(t,n){return t+1*e[n].amt}),0);return t},getTime:function(e){return e.getMonth()+1+"/"+e.getDate()},editItem:function(e){this.isEdit=!0,this.editedIndex=this.rows.indexOf(e),this.editedItem=Object.assign({},e),this.editedItem.date=this.editedItem.date.toDate().toISOString().slice(0,10)},deleteItem:function(e,t){var n=this;return Object(X["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(ee["d"])(Object(ee["e"])(re,oe,e));case 2:n.rows.splice(t,1),n.editedItem=Object.assign({},n.defaultItem),n.editedIndex=-1;case 5:case"end":return a.stop()}}),a)})))()},openForm:function(){this.isEdit=!this.isEdit},getMoney:function(){var e=this;return Object(X["a"])(regeneratorRuntime.mark((function t(){var n,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(ee["c"])(re,oe),a=Object(ee["i"])(n,Object(ee["h"])("date","desc")),t.next=4,Object(ee["f"])(a);case 4:r=t.sent,r.forEach((function(t){var n=t.data();n.id=t.id,e.rows.push(n)}));case 6:case"end":return t.stop()}}),t)})))()},save:function(){var e=this;return Object(X["a"])(regeneratorRuntime.mark((function t(){var n,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.editedIndex>-1)){t.next=9;break}return n=Object(ee["e"])(re,oe,e.editedItem.id),e.editedItem.date=ee["a"].fromDate(new Date(e.editedItem.date)),t.next=5,Object(ee["j"])(n,e.editedItem);case 5:Object.assign(e.rows[e.editedIndex],e.editedItem),e.$nextTick((function(){e.defaultItem.date="",e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1})),t.next=18;break;case 9:return a=ee["a"].fromDate(new Date(e.editedItem.date)),t.next=12,Object(ee["b"])(Object(ee["c"])(re,oe),{date:a,title:e.editedItem.title,amt:e.editedItem.amt});case 12:r=t.sent,e.editedItem.id=r.id,e.editedItem.date=a,e.rows.unshift(e.editedItem),e.defaultItem.date=a.toDate().toISOString().slice(0,10),e.editedItem=Object.assign({},e.defaultItem);case 18:case"end":return t.stop()}}),t)})))()}}},ce=ie,se=(n("c4c3"),n("4ca6")),de=n("62ad"),le=n("4bd4"),ue=n("132d"),me=n("0fd9"),ve=n("1f4f"),pe=n("8654"),fe=n("2a7f"),be=Object(p["a"])(ce,Z,U,!1,null,null,null),he=be.exports;b()(be,{VApp:_["a"],VAppBarNavIcon:h["a"],VBadge:se["a"],VBtn:g["a"],VCol:de["a"],VForm:le["a"],VIcon:ue["a"],VRow:me["a"],VSimpleTable:ve["a"],VSpacer:w["a"],VTextField:pe["a"],VToolbar:x["a"],VToolbarTitle:fe["a"]});var ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("Score")])},we=[],xe={},Ie=xe,ye=Object(p["a"])(Ie,ge,we,!1,null,null,null),ke=ye.exports,Oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-container",[e._v(" "+e._s(this.id)+" "),n("v-dialog",{attrs:{width:"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",{staticClass:"text-h5 grey lighten-2"},[e._v("股票編輯")]),n("v-card-text",[n("v-row",[n("v-col",[n("v-text-field",{attrs:{label:"日期",type:"date"},model:{value:e.editRow.date,callback:function(t){e.$set(e.editRow,"date",t)},expression:"editRow.date"}})],1),n("v-col",[n("v-text-field",{attrs:{label:"名稱"},model:{value:e.editRow.stockName,callback:function(t){e.$set(e.editRow,"stockName",t)},expression:"editRow.stockName"}})],1),n("v-col",[n("v-text-field",{attrs:{label:"股數",type:"number"},model:{value:e.editRow.qty,callback:function(t){e.$set(e.editRow,"qty",t)},expression:"editRow.qty"}})],1),n("v-col",[n("v-text-field",{attrs:{label:"單價",type:"number"},model:{value:e.editRow.price,callback:function(t){e.$set(e.editRow,"price",t)},expression:"editRow.price"}})],1)],1)],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary",text:""},on:{click:e.cancel}},[e._v("取消")]),n("v-btn",{staticClass:"white--text",attrs:{color:"green"},on:{click:e.save}},[e._v("儲存")])],1)],1)],1),n("v-form",[n("v-row",{staticClass:"mb-6"},[n("v-col",[n("v-btn",{staticClass:"white--text",attrs:{color:"cyan"},on:{click:e.openDialog}},[e._v("新增")])],1),n("v-col",{attrs:{cols:"6",md:"4"}},[n("v-alert",{attrs:{border:"right",type:"info","colored-border":"",elevation:"2"}},[n("h3",{staticClass:"text-center"},[e._v("合計: "+e._s(e.total))])])],1)],1)],1),n("v-data-table",{attrs:{headers:e.headers,items:e.rows},scopedSlots:e._u([{key:"item.date",fn:function(t){var n=t.item;return[e._v(e._s(n.date.toDate().toISOString().slice(0,10)))]}},{key:"item.stockName",fn:function(t){var a=t.item;return[n("router-link",{attrs:{to:{name:"StockTransaction",params:{id:a.id}}}},[e._v(e._s(a.stockName))])]}},{key:"item.type",fn:function(t){var a=t.item;return[n("v-chip",{attrs:{dark:"",color:e.getTypeColor(a)}},[e._v(e._s(e.getType(a)))])]}},{key:"item.amt",fn:function(t){var n=t.item;return[e._v(e._s(n.price*n.qty))]}},{key:"item.edit",fn:function(t){var a=t.item;return[n("v-icon",{on:{click:function(t){return e.edit(a)}}},[e._v("mdi-pencil")])]}},{key:"item.del",fn:function(t){var a=t.item;return[n("v-icon",{on:{click:function(t){return e.destory(a)}}},[e._v("mdi-delete")])]}}])})],1)],1)},_e=[],je="stockTransaction",Re={data:function(){return{dialog:!1,id:this.$route.params.id,rows:[],editRow:{date:(new Date).toISOString().slice(0,10)},headers:[{text:"",value:"del"},{text:"日期",value:"date"},{text:"交易類別",value:"type"},{text:"名稱",value:"stockName"},{text:"股數",value:"qty"},{text:"單價",value:"price"},{text:"小計",value:"amt"},{text:"",value:"edit"}],editedIndex:-1}},created:function(){this.getMoney()},computed:{total:function(){var e=0;return this.rows.forEach((function(t){e+=t.price*t.qty})),e}},methods:{cancel:function(){this.dialog=!1,this.editRow={},this.editedIndex=-1},getType:function(e){return e.qty>0?"買進":"賣出"},getTypeColor:function(e){return e.qty>0?"orange":"green"},openDialog:function(){this.dialog=!0},edit:function(e){console.log(e.date),this.editedIndex=this.rows.indexOf(e),this.editRow=Object.assign({},e),console.log(this.editRow),this.editRow.date=this.editRow.date.toDate().toISOString().slice(0,10),console.log(this.editRow),this.dialog=!0},save:function(){this.editedIndex>-1?this.update():this.create()},create:function(){var e=this;return Object(X["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=ee["a"].fromDate(new Date(e.editRow.date)),t.next=3,Object(ee["b"])(Object(ee["c"])(re,je),{date:n,stockName:e.editRow.stockName,qty:e.editRow.qty,price:e.editRow.price}).then((function(t){e.editRow.id=t.id,e.dialog=!1,e.editRow.date=n,e.rows.unshift(e.editRow),e.editRow={},e.editRow.date=(new Date).toISOString().slice(0,10),console.log(t.id)}));case 3:case"end":return t.stop()}}),t)})))()},update:function(){var e=this;return Object(X["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.editRow.date=ee["a"].fromDate(new Date(e.editRow.date)),n=Object(ee["e"])(re,je,e.editRow.id),t.next=4,Object(ee["j"])(n,e.editRow).then((function(){Object.assign(e.rows[e.editedIndex],e.editRow),e.dialog=!1,e.editRow={},e.editedIndex=-1}));case 4:case"end":return t.stop()}}),t)})))()},destory:function(e){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.editedIndex=t.rows.indexOf(e),n.next=3,Object(ee["d"])(Object(ee["e"])(re,je,e.id)).then(t.rows.splice(t.editedIndex,1));case 3:case"end":return n.stop()}}),n)})))()},del:function(e){console.log(e.id)},getMoney:function(){var e=this;return Object(X["a"])(regeneratorRuntime.mark((function t(){var n,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="",null!=e.id?(n=Object(ee["i"])(Object(ee["c"])(re,je),Object(ee["k"])("stockID","==",e.id)),console.log("ddd")):n=Object(ee["c"])(re,je),t.next=4,Object(ee["f"])(n);case 4:a=t.sent,r=a.docs,r.forEach((function(t){var n=t.data();n.id=t.id,e.rows.push(n)}));case 7:case"end":return t.stop()}}),t)})))()}}},Se=Re,Ve=(n("c348"),n("0798")),De=n("b0af"),Te=n("99d9"),Ce=n("cc20"),$e=n("169a"),qe=n("ce7e"),Ae=Object(p["a"])(Se,Oe,_e,!1,null,null,null),Ee=Ae.exports;b()(Ae,{VAlert:Ve["a"],VBtn:g["a"],VCard:De["a"],VCardActions:Te["a"],VCardText:Te["b"],VCardTitle:Te["c"],VChip:Ce["a"],VCol:de["a"],VContainer:R["a"],VDataTable:G["a"],VDialog:$e["a"],VDivider:qe["a"],VForm:le["a"],VIcon:ue["a"],VRow:me["a"],VSpacer:w["a"],VTextField:pe["a"]});var Be=new $["a"]({mode:"history",routes:[{name:"Score",path:"/score",component:ke},{name:"Spend",path:"/spend",component:he},{name:"Login",path:"/login",component:F},{name:"Stock",path:"/stock",component:W},{name:"StockTransaction",path:"/stock-transaction/:id",component:Ee},{name:"StockTransactionAll",path:"/stock-transaction",meta:{requiresAuth:!0},component:Ee}]});Be.beforeEach((function(e,t,n){var a=Object(d["a"])(),r=a.currentUser,o=e.matched.some((function(e){return e.meta.requiresAuth}));o&&!r?n("/login"):n()}));var Me=Be;a["a"].config.productionTip=!1,a["a"].use($["a"]),new a["a"]({vuetify:C,router:Me,render:function(e){return e(D)}}).$mount("#app")},"60f8":function(e,t,n){"use strict";n("1308")},c348:function(e,t,n){"use strict";n("0af9")},c4c3:function(e,t,n){"use strict";n("5384")}});
//# sourceMappingURL=app.e6247259.js.map