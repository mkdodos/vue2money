(function(e){function t(t){for(var n,c,i=t[0],o=t[1],d=t[2],u=0,m=[];u<i.length;u++)c=i[u],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&m.push(r[c][0]),r[c]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);l&&l(t);while(m.length)m.shift()();return s.push.apply(s,d||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,i=1;i<a.length;i++){var o=a[i];0!==r[o]&&(n=!1)}n&&(s.splice(t--,1),e=c(c.s=a[0]))}return e}var n={},r={app:0},s=[];function c(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=e,c.c=n,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(a,n,function(t){return e[t]}.bind(null,n));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/vue2money/dist/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var d=0;d<i.length;d++)t(i[d]);var l=o;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0af9":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("Toolbar"),a("v-main",[a("v-container",[a("router-view")],1)],1)],1)},s=[],c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-toolbar",{attrs:{dense:""}},[a("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-app-bar-nav-icon",e._g(e._b({},"v-app-bar-nav-icon",r,!1),n))]}}])},[a("v-list",[a("v-list-item",[a("v-list-item-title",[a("v-btn",{attrs:{to:"/expense",text:""}},[e._v("支出")])],1)],1),a("v-list-item",[a("v-list-item-title",[a("v-btn",{attrs:{to:"/spend",text:""}},[e._v("Spend")])],1)],1),a("v-list-item",[a("v-list-item-title",[a("v-btn",{attrs:{to:"/spend-tab",text:""}},[e._v("SpendTab")])],1)],1),a("v-list-item",[a("v-list-item-title",[a("v-btn",{attrs:{to:"/cash-in",text:""}},[e._v("Cash In")])],1)],1)],1)],1),a("v-btn",{attrs:{to:"/expense",text:""}},[e._v("支出")]),a("v-btn",{attrs:{to:"/expense-tab",text:""}},[e._v("支出明細")]),a("v-btn",{attrs:{to:"/expense/gas",text:""}},[e._v("加油")]),a("v-btn",{attrs:{to:"/cash-in",text:""}},[e._v("Cash In")]),a("v-btn",{attrs:{to:"/spend",text:""}},[e._v("Spend")]),a("v-btn",{attrs:{to:"/spend-tab",text:""}},[e._v("SpendTab")])],1)],1)},i=[],o=(a("ac1f"),a("5319"),a("260b")),d=a("ea7b"),l={apiKey:"AIzaSyClLeHQJMt3BzbrK_AHpWeq0nlqzY2r5ik",authDomain:"money-39797.firebaseapp.com",projectId:"money-39797",storageBucket:"money-39797.appspot.com",messagingSenderId:"142963352306",appId:"1:142963352306:web:ac3c09e593009a5175666b",measurementId:"G-012VKYDZ07"};Object(o["a"])(l);var u=Object(d["a"])(),m={methods:{logout:function(){var e=this;console.log("log"),Object(d["c"])(u).then((function(){e.$router.replace("/login")}))}}},v=m,p=a("2877"),b=a("6544"),h=a.n(b),f=a("5bc1"),x=a("8336"),g=a("8860"),w=a("da13"),I=a("5d23"),j=a("e449"),_=a("71d9"),O=Object(p["a"])(v,c,i,!1,null,null,null),k=O.exports;h()(O,{VAppBarNavIcon:f["a"],VBtn:x["a"],VList:g["a"],VListItem:w["a"],VListItemTitle:I["b"],VMenu:j["a"],VToolbar:_["a"]});var y={name:"App",components:{Toolbar:k},data:function(){return{}}},C=y,D=a("7496"),V=a("a523"),R=a("f6c4"),S=Object(p["a"])(C,r,s,!1,null,null,null),T=S.exports;h()(S,{VApp:D["a"],VContainer:V["a"],VMain:R["a"]});var $=a("f309");n["a"].use($["a"]);var E=new $["a"]({}),M=a("8c4f"),B=(a("d3b7"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",{staticClass:"mx-auto my-12",attrs:{elevation:"2","max-width":"374"}},[a("v-card-title",[e._v("Cafe Badilico")]),a("v-card-text",[a("v-text-field",{attrs:{label:"帳號"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-text-field",{attrs:{label:"密碼"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("v-btn",{staticClass:"white--text",attrs:{color:"#003554"},on:{click:e.login}},[e._v("登入")])],1)],1)],1)}),q=[],Y={apiKey:"AIzaSyClLeHQJMt3BzbrK_AHpWeq0nlqzY2r5ik",authDomain:"money-39797.firebaseapp.com",projectId:"money-39797",storageBucket:"money-39797.appspot.com",messagingSenderId:"142963352306",appId:"1:142963352306:web:ac3c09e593009a5175666b",measurementId:"G-012VKYDZ07"},F=(Object(o["a"])(Y),Object(d["a"])()),A={data:function(){return{email:"mk123@gmail.com",password:"123456"}},methods:{login:function(){var e=this;Object(d["b"])(F,this.email,this.password).then((function(t){var a=t.user;console.log(a.email),e.$router.replace("stock-transaction")}))}}},N=A,z=a("b0af"),K=a("99d9"),U=a("8654"),L=Object(p["a"])(N,B,q,!1,null,null,null),P=L.exports;h()(L,{VBtn:x["a"],VCard:z["a"],VCardText:K["b"],VCardTitle:K["c"],VTextField:U["a"]});var H=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-data-table",{attrs:{headers:e.headers,items:e.rows},scopedSlots:e._u([{key:"item.name",fn:function(t){var n=t.item;return[a("router-link",{attrs:{to:{name:"StockTransaction",params:{id:n.id}}}},[e._v(" "+e._s(n.name)+" ")])]}}])})],1)},J=[],G={data:function(){return{headers:[{text:"代碼",value:"id"},{text:"名稱",value:"name"}],rows:[{id:"2002",name:"中鋼"},{id:"2603",name:"長榮"},{id:"2330",name:"台積電"},{id:"2412",name:"中華電"}]}}},Q=G,W=a("8fea"),Z=Object(p["a"])(Q,H,J,!1,null,null,null),X=Z.exports;h()(Z,{VDataTable:W["a"]});var ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-dialog",{attrs:{width:"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 lighten-2"},[e._v("編輯")]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"日期",type:"date"},model:{value:e.editedItem.spend_date,callback:function(t){e.$set(e.editedItem,"spend_date",t)},expression:"editedItem.spend_date"}})],1),a("v-col",[a("v-select",{attrs:{label:"分類",items:e.cates},model:{value:e.editedItem.cate_name,callback:function(t){e.$set(e.editedItem,"cate_name",t)},expression:"editedItem.cate_name"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"項目","hide-details":"auto"},model:{value:e.editedItem.note,callback:function(t){e.$set(e.editedItem,"note",t)},expression:"editedItem.note"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"金額","append-icon":"mdi-currency-usd",type:"number"},model:{value:e.editedItem.expense,callback:function(t){e.$set(e.editedItem,"expense",t)},expression:"editedItem.expense"}})],1)],1)],1),a("v-row",{staticClass:"mb-6"},[a("v-col",{staticClass:"text-left"},[e.editedIndex>-1?a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(e.editedItem.id,e.editedIndex)}}},[e._v("mdi-delete")]):e._e()],1),a("v-col",{staticClass:"text-right"},[a("v-btn",{staticClass:"white--text",attrs:{color:"green"},on:{click:e.save}},[e._v("儲存")])],1)],1)],1)],1)],1),a("v-row",{attrs:{justify:"space-between"}},[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"","append-icon":"mdi-magnify"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),a("v-row",{staticClass:"mb-3",attrs:{justify:"space-between"}},[a("v-col",{attrs:{cols:"4"}},[a("v-btn",{staticClass:"white--text",attrs:{color:"cyan"},on:{click:e.preDay}},[a("v-icon",[e._v("mdi-arrow-left")])],1)],1),a("v-col",{attrs:{cols:"4"}},[a("v-btn",{staticClass:"white--text",attrs:{color:"cyan"},on:{click:e.nextDay}},[a("v-icon",[e._v("mdi-arrow-right")])],1)],1),a("v-col",{attrs:{cols:"4"}},[a("v-btn",{staticClass:"white--text",attrs:{color:"blue-grey"},on:{click:e.openDialog}},[e._v(" 新增 ")])],1)],1),a("v-card",[a("v-card-title",[a("v-row",{staticClass:"mb-1",attrs:{cols:"4",justify:"space-between"}},[a("v-col",{on:{click:e.nextDay}},[e._v(e._s(new Date(e.today).toISOString().slice(5,10)))]),a("v-col",{attrs:{cols:"4"}},[e._v(e._s(e.getTotal(e.rows)))])],1)],1),a("v-card-text",[a("v-data-table",{attrs:{"items-per-page":100,"hide-default-footer":!0,"mobile-breakpoint":"360",loading:e.loading,headers:e.headers,items:e.rows,search:e.search},on:{"click:row":e.editItem},scopedSlots:e._u([{key:"item.spend_date",fn:function(t){var a=t.item;return[e._v(e._s(a.spend_date.slice(0,10)))]}},{key:"item.actions",fn:function(t){var n=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(n)}}},[e._v("mdi-pencil")])]}}])})],1)],1)],1)},te=[],ae=a("1da1"),ne=(a("96cf"),a("fb6a"),a("b64b"),a("841c"),a("159b"),a("a434"),a("a680")),re={apiKey:"AIzaSyClLeHQJMt3BzbrK_AHpWeq0nlqzY2r5ik",authDomain:"money-39797.firebaseapp.com",projectId:"money-39797",storageBucket:"money-39797.appspot.com",messagingSenderId:"142963352306",appId:"1:142963352306:web:ac3c09e593009a5175666b",measurementId:"G-012VKYDZ07"},se=Object(o["a"])(re),ce=Object(ne["g"])(se),ie=ce,oe="spends",de={data:function(){return{rows:[],cates:["餐費","加油","水電"],headers:[{text:"項目",value:"note",width:"200"},{text:"金額",value:"expense",width:"90"}],dialog:!1,loading:!0,search:"",editedItem:{note:"",expense:"",spend_date:(new Date).toISOString().slice(0,10)},defaultItem:{note:"",expense:"",spend_date:(new Date).toISOString().slice(0,10)},editedIndex:-1,today:(new Date).getTime(),total:0}},mounted:function(){this.getMoney()},methods:{getTotal:function(e){var t=Object.keys(e).reduce((function(t,a){return t+1*e[a].expense}),0);return t},queryRows:function(){var e=this;return Object(ae["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.headers.push({text:"日期",value:"spend_date",width:"100"}),e.rows=[],e.loading=!0,a=Object(ne["c"])(ie,oe),n=Object(ne["j"])(a,Object(ne["l"])("note",">=",e.search),Object(ne["l"])("note","<=",e.search+"")),t.next=7,Object(ne["f"])(n);case 7:r=t.sent,r.forEach((function(t){var a=t.data();a.id=t.id,e.rows.push(a)})),e.loading=!1,console.log("query");case 11:case"end":return t.stop()}}),t)})))()},theDate:function(){return new Date(this.today).toISOString().slice(0,10)},nextDay:function(){this.today=this.today+864e5,this.getMoney(),this.headers.splice(2,1)},preDay:function(){this.today=this.today-864e5,this.getMoney(),this.headers.splice(2,1)},openDialog:function(){this.editedItem=Object.assign({},this.defaultItem),this.dialog=!0},deleteItem:function(e,t){var a=this;return Object(ae["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(confirm("確定刪除")){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,Object(ne["d"])(Object(ne["e"])(ie,oe,e));case 4:a.rows.splice(t,1),a.editedItem=Object.assign({},a.defaultItem),a.editedIndex=-1,a.dialog=!1;case 8:case"end":return n.stop()}}),n)})))()},editItem:function(e){this.dialog=!0,this.editedIndex=this.rows.indexOf(e),this.editedItem=Object.assign({},e)},save:function(){var e=this;return Object(ae["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.editedIndex>-1)){t.next=8;break}return a=Object(ne["e"])(ie,oe,e.editedItem.id),t.next=4,Object(ne["k"])(a,e.editedItem);case 4:Object.assign(e.rows[e.editedIndex],e.editedItem),e.$nextTick((function(){e.defaultItem.date="",e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1})),t.next=13;break;case 8:return t.next=10,Object(ne["b"])(Object(ne["c"])(ie,oe),{spend_date:e.editedItem.spend_date,cate_name:e.editedItem.cate_name,note:e.editedItem.note,expense:e.editedItem.expense});case 10:n=t.sent,e.editedItem.id=n.id,e.rows.unshift(e.editedItem);case 13:e.dialog=!1;case 14:case"end":return t.stop()}}),t)})))()},getMoney:function(){var e=this;return Object(ae["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.rows=[],e.loading=!0,a=Object(ne["c"])(ie,oe),n=Object(ne["j"])(a,Object(ne["l"])("spend_date","==",e.theDate())),t.next=6,Object(ne["f"])(n);case 6:r=t.sent,r.forEach((function(t){var a=t.data();a.id=t.id,e.rows.push(a)})),e.loading=!1;case 9:case"end":return t.stop()}}),t)})))()}}},le=de,ue=a("62ad"),me=a("169a"),ve=a("132d"),pe=a("0fd9"),be=a("b974"),he=Object(p["a"])(le,ee,te,!1,null,null,null),fe=he.exports;h()(he,{VBtn:x["a"],VCard:z["a"],VCardText:K["b"],VCardTitle:K["c"],VCol:ue["a"],VContainer:V["a"],VDataTable:W["a"],VDialog:me["a"],VIcon:ve["a"],VRow:pe["a"],VSelect:be["a"],VTextField:U["a"]});var xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-dialog",{attrs:{width:"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 lighten-2"},[e._v("編輯")]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"日期",type:"date"},model:{value:e.editedItem.spend_date,callback:function(t){e.$set(e.editedItem,"spend_date",t)},expression:"editedItem.spend_date"}})],1),a("v-col",[a("v-select",{attrs:{label:"帳戶",items:e.accounts},model:{value:e.editedItem.account_name,callback:function(t){e.$set(e.editedItem,"account_name",t)},expression:"editedItem.account_name"}})],1),a("v-col",[a("v-select",{attrs:{label:"分類",items:e.cates},model:{value:e.editedItem.cate_name,callback:function(t){e.$set(e.editedItem,"cate_name",t)},expression:"editedItem.cate_name"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"項目","hide-details":"auto"},model:{value:e.editedItem.note,callback:function(t){e.$set(e.editedItem,"note",t)},expression:"editedItem.note"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"金額","append-icon":"mdi-currency-usd",type:"number"},model:{value:e.editedItem.expense,callback:function(t){e.$set(e.editedItem,"expense",t)},expression:"editedItem.expense"}})],1)],1)],1),a("v-row",{staticClass:"mb-6"},[a("v-col",{staticClass:"text-left"},[e.editedIndex>-1?a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(e.editedItem.id,e.editedIndex)}}},[e._v("mdi-delete")]):e._e()],1),a("v-col",{staticClass:"text-right"},[a("v-btn",{staticClass:"white--text",attrs:{color:"green"},on:{click:e.save}},[e._v("儲存")])],1)],1)],1)],1)],1),a("v-row",{attrs:{justify:"space-between"}},[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"","append-icon":"mdi-magnify"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),a("v-row",{staticClass:"mb-3",attrs:{justify:"space-between"}},[a("v-col",{attrs:{cols:"4"}},[a("v-btn",{staticClass:"white--text",attrs:{color:"cyan"},on:{click:e.preDay}},[a("v-icon",[e._v("mdi-arrow-left")])],1)],1),a("v-col",{attrs:{cols:"4"}},[a("v-btn",{staticClass:"white--text",attrs:{color:"cyan"},on:{click:e.nextDay}},[a("v-icon",[e._v("mdi-arrow-right")])],1)],1),a("v-col",{attrs:{cols:"4"}},[a("v-btn",{staticClass:"white--text",attrs:{color:"blue-grey"},on:{click:e.openDialog}},[e._v(" 新增 ")])],1)],1),a("v-card",[a("v-card-title",[a("v-row",{staticClass:"mb-1",attrs:{cols:"4",justify:"space-between"}},[a("v-col",{on:{click:e.nextDay}},[e._v(e._s(new Date(e.today).toISOString().slice(5,10)))]),a("v-col",{attrs:{cols:"4"}},[e._v(e._s(e.getTotal(e.rows)))])],1)],1),a("v-card-text",[a("v-data-table",{attrs:{"items-per-page":100,"hide-default-footer":!0,"mobile-breakpoint":"360",loading:e.loading,headers:e.headers,items:e.rows,search:e.search},on:{"click:row":e.editItem},scopedSlots:e._u([{key:"item.spend_date",fn:function(t){var a=t.item;return[e._v(e._s(a.spend_date.slice(0,10)))]}},{key:"item.actions",fn:function(t){var n=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(n)}}},[e._v("mdi-pencil")])]}}])})],1)],1)],1)},ge=[],we=(a("b0c0"),"expenses"),Ie={data:function(){return{rows:[],accounts:["現金","信用卡"],cates:["餐費","加油","水電"],headers:[{text:"項目",value:"note",width:"180"},{text:"金額",value:"expense",width:"60"}],dialog:!1,loading:!0,search:"",editedItem:{note:"",expense:"",spend_date:(new Date).toISOString().slice(0,10)},defaultItem:{note:"",expense:"",spend_date:(new Date).toISOString().slice(0,10)},editedIndex:-1,today:(new Date).getTime(),total:0}},mounted:function(){this.getMoney(),this.getCates()},methods:{getCates:function(){var e=this;return Object(ae["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.cates=[],a=Object(ne["c"])(ie,"cates"),n=Object(ne["j"])(a,Object(ne["i"])("prior")),t.next=5,Object(ne["f"])(n);case 5:r=t.sent,r.forEach((function(t){e.cates.push(t.data().name)})),console.log(e.cates);case 8:case"end":return t.stop()}}),t)})))()},getTotal:function(e){var t=Object.keys(e).reduce((function(t,a){return t+1*e[a].expense}),0);return t},queryRows:function(){var e=this;return Object(ae["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.headers.push({text:"日期",value:"spend_date",width:"100"}),e.rows=[],e.loading=!0,a=Object(ne["c"])(ie,we),n=Object(ne["j"])(a,Object(ne["l"])("note",">=",e.search),Object(ne["l"])("note","<=",e.search+"")),t.next=7,Object(ne["f"])(n);case 7:r=t.sent,r.forEach((function(t){var a=t.data();a.id=t.id,e.rows.push(a)})),e.loading=!1,console.log("query");case 11:case"end":return t.stop()}}),t)})))()},theDate:function(){return new Date(this.today).toISOString().slice(0,10)},nextDay:function(){this.today=this.today+864e5,this.getMoney(),this.headers.splice(2,1)},preDay:function(){this.today=this.today-864e5,this.getMoney(),this.headers.splice(2,1)},openDialog:function(){this.editedItem=Object.assign({},this.defaultItem),this.dialog=!0},deleteItem:function(e,t){var a=this;return Object(ae["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(confirm("確定刪除")){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,Object(ne["d"])(Object(ne["e"])(ie,we,e));case 4:a.rows.splice(t,1),a.editedItem=Object.assign({},a.defaultItem),a.editedIndex=-1,a.dialog=!1;case 8:case"end":return n.stop()}}),n)})))()},editItem:function(e){this.dialog=!0,this.editedIndex=this.rows.indexOf(e),this.editedItem=Object.assign({},e)},save:function(){var e=this;return Object(ae["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.editedIndex>-1)){t.next=8;break}return a=Object(ne["e"])(ie,we,e.editedItem.id),t.next=4,Object(ne["k"])(a,e.editedItem);case 4:Object.assign(e.rows[e.editedIndex],e.editedItem),e.$nextTick((function(){e.defaultItem.date="",e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1})),t.next=13;break;case 8:return t.next=10,Object(ne["b"])(Object(ne["c"])(ie,we),{spend_date:e.editedItem.spend_date,cate_name:e.editedItem.cate_name,account_name:e.editedItem.account_name,note:e.editedItem.note,expense:e.editedItem.expense});case 10:n=t.sent,e.editedItem.id=n.id,e.rows.unshift(e.editedItem);case 13:e.dialog=!1;case 14:case"end":return t.stop()}}),t)})))()},getMoney:function(){var e=this;return Object(ae["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.rows=[],e.loading=!0,a=Object(ne["c"])(ie,we),n=Object(ne["j"])(a,Object(ne["l"])("spend_date","==",e.theDate())),t.next=6,Object(ne["f"])(n);case 6:r=t.sent,r.forEach((function(t){var a=t.data();a.id=t.id,e.rows.push(a)})),e.loading=!1;case 9:case"end":return t.stop()}}),t)})))()}}},je=Ie,_e=Object(p["a"])(je,xe,ge,!1,null,null,null),Oe=_e.exports;h()(_e,{VBtn:x["a"],VCard:z["a"],VCardText:K["b"],VCardTitle:K["c"],VCol:ue["a"],VContainer:V["a"],VDataTable:W["a"],VDialog:me["a"],VIcon:ve["a"],VRow:pe["a"],VSelect:be["a"],VTextField:U["a"]});var ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v(" 202206 加油錢 "),a("v-dialog",{attrs:{width:"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 lighten-2"},[e._v("編輯")]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"日期",type:"date"},model:{value:e.editedItem.spend_date,callback:function(t){e.$set(e.editedItem,"spend_date",t)},expression:"editedItem.spend_date"}})],1)],1),a("v-row",[a("v-col",[a("v-select",{attrs:{label:"帳戶",items:e.accounts},model:{value:e.editedItem.account_name,callback:function(t){e.$set(e.editedItem,"account_name",t)},expression:"editedItem.account_name"}})],1),a("v-col",[a("v-select",{attrs:{label:"分類",items:e.cates},model:{value:e.editedItem.cate_name,callback:function(t){e.$set(e.editedItem,"cate_name",t)},expression:"editedItem.cate_name"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"項目","hide-details":"auto"},model:{value:e.editedItem.note,callback:function(t){e.$set(e.editedItem,"note",t)},expression:"editedItem.note"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"金額","append-icon":"mdi-currency-usd",type:"number"},model:{value:e.editedItem.expense,callback:function(t){e.$set(e.editedItem,"expense",t)},expression:"editedItem.expense"}})],1)],1)],1),a("v-row",{staticClass:"mb-6"},[a("v-col",{staticClass:"text-left"},[e.editedIndex>-1?a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(e.editedItem.id,e.editedIndex)}}},[e._v("mdi-delete")]):e._e()],1),a("v-col",{staticClass:"text-right"},[a("v-btn",{staticClass:"white--text",attrs:{color:"green"},on:{click:e.save}},[e._v("儲存")])],1)],1)],1)],1)],1),a("v-row",[a("v-col",[a("v-text-field",{attrs:{type:"number",label:"年"},model:{value:e.search.y,callback:function(t){e.$set(e.search,"y",t)},expression:"search.y"}})],1),a("v-col",[a("v-select",{attrs:{items:e.months},model:{value:e.search.m,callback:function(t){e.$set(e.search,"m",t)},expression:"search.m"}})],1),a("v-col",[a("v-btn",{on:{click:e.getDataYM}},[e._v("查詢")])],1)],1),a("v-row",[a("v-col",{attrs:{cols:"8"}}),a("v-col",{attrs:{cols:"4"}},[a("v-btn",{attrs:{outlined:"",color:"red",dark:""}},[e._v(" "+e._s(e.getTotal(e.rows))+" ")])],1)],1),a("v-data-table",{attrs:{"mobile-breakpoint":"300",headers:e.headers,items:e.rows,search:e.search.keyword,loading:e.loading,"items-per-page":100,"sort-by":e.sortBy,"sort-desc":e.sortDesc},on:{"click:row":e.editItem,"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t}},scopedSlots:e._u([{key:"item.spend_date",fn:function(t){var a=t.item;return[e._v(e._s(a.spend_date.slice(5,10)))]}}])})],1)},ye=[],Ce=a("5530"),De="expenses",Ve={props:{title:{type:String,default:"expenses"}},data:function(){return{total:0,sortBy:"spend_date",sortDesc:!0,editedIndex:-1,dialog:!1,defaultItem:{note:"",expense:"",spend_date:(new Date).toISOString().slice(0,10)},editedItem:{},search:{y:(new Date).getFullYear(),m:(new Date).getMonth()+1},months:[],accounts:["","現金","信用卡"],cates:["餐費","加油","旅遊","水電"],rows:[],headers:[{text:"日期",value:"spend_date",width:"70"},{text:"類別",value:"cate_name",width:"60"},{text:"項目",value:"note",width:"120"},{text:"支出",value:"expense",width:"70"}],loading:!1}},created:function(){this.monthData(),this.getDataYM(),this.getCates(),console.log(this.getTotal2022())},methods:{editItem:function(e){this.dialog=!0,this.editedIndex=this.rows.indexOf(e),this.editedItem=Object.assign({},e)},getTotal:function(e){var t=Object.keys(e).reduce((function(t,a){return t+1*e[a].expense}),0),a=new Intl.NumberFormat("en-US",{currency:"USD"});return t=a.format(t),t},monthData:function(){for(var e=0;e<=12;e++)e<10&&(e="0"+e),this.months.push(e);var t=(new Date).getMonth()+1;t<10&&(t="0"+t),this.search.m=t},save:function(){var e=this;return Object(ae["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.editedIndex>-1)){t.next=9;break}return a=Object(ne["e"])(ie,De,e.editedItem.id),t.next=4,Object(ne["k"])(a,e.editedItem);case 4:Object.assign(e.rows[e.editedIndex],e.editedItem),console.log(e.editedItem),e.$nextTick((function(){e.defaultItem.date="",e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1})),t.next=14;break;case 9:return t.next=11,Object(ne["b"])(Object(ne["c"])(ie,De),{spend_date:e.editedItem.spend_date,cate_name:e.editedItem.cate_name,note:e.editedItem.note,expense:e.editedItem.expense});case 11:n=t.sent,e.editedItem.id=n.id,e.rows.unshift(e.editedItem);case 14:e.dialog=!1;case 15:case"end":return t.stop()}}),t)})))()},deleteItem:function(e,t){var a=this;return Object(ae["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(confirm("確定刪除")){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,Object(ne["d"])(Object(ne["e"])(ie,De,e));case 4:a.rows.splice(t,1),a.editedItem=Object.assign({},a.defaultItem),a.editedIndex=-1,a.dialog=!1;case 8:case"end":return n.stop()}}),n)})))()},getCates:function(){var e=this;return Object(ae["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.cates=[],a=Object(ne["c"])(ie,"cates"),n=Object(ne["j"])(a,Object(ne["i"])("prior")),t.next=5,Object(ne["f"])(n);case 5:r=t.sent,r.forEach((function(t){e.cates.push(t.data().name)})),console.log(e.cates);case 8:case"end":return t.stop()}}),t)})))()},getDataByCate:function(){var e=this;return Object(ae["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.rows=[],e.loading=!0,a=Object(ne["c"])(ie,De),n=Object(ne["j"])(a,Object(ne["l"])("cate_name","==",e.search.cate_name),Object(ne["h"])(100)),""!=e.search.account_name&&void 0!=e.search.account_name&&(n=Object(ne["j"])(a,Object(ne["l"])("cate_name","==",e.search.cate_name),Object(ne["l"])("account_name","==",e.search.account_name),Object(ne["h"])(100))),t.next=7,Object(ne["f"])(n);case 7:r=t.sent,r.forEach((function(t){e.rows.push(Object(Ce["a"])(Object(Ce["a"])({},t.data()),{},{id:t.id}))})),e.loading=!1;case 10:case"end":return t.stop()}}),t)})))()},getTotal2022:function(){var e=this;return Object(ae["a"])(regeneratorRuntime.mark((function t(){var a,n,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=Object(ne["c"])(ie,e.title),n=Object(ne["j"])(a,Object(ne["i"])("spend_date","desc"),Object(ne["l"])("spend_date",">=","2022-01-01"),Object(ne["l"])("spend_date","<=","2022-12-31"),Object(ne["l"])("cate_name","==","加油"),Object(ne["h"])(100)),r=0,t.next=5,Object(ne["f"])(n);case 5:return s=t.sent,s.forEach((function(e){r+=1*e.data().expense})),t.abrupt("return",r);case 8:case"end":return t.stop()}}),t)})))()},getDataYM:function(){var e=this;return Object(ae["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.rows=[],e.loading=!0,a=Object(ne["c"])(ie,e.title),n=Object(ne["j"])(a,Object(ne["i"])("spend_date","desc"),Object(ne["l"])("spend_date",">=",e.search.y+"-01-01"),Object(ne["l"])("spend_date","<=",e.search.y+"-12-31"),Object(ne["l"])("cate_name","==","加油"),Object(ne["h"])(100)),"00"!=e.search.m&&(n=Object(ne["j"])(a,Object(ne["i"])("spend_date","desc"),Object(ne["l"])("spend_date",">=",e.search.y+"-"+e.search.m+"-01"),Object(ne["l"])("spend_date","<=",e.search.y+"-"+e.search.m+"-31"),Object(ne["l"])("cate_name","==","加油"),Object(ne["h"])(100))),t.next=7,Object(ne["f"])(n);case 7:r=t.sent,r.forEach((function(t){e.rows.push(Object(Ce["a"])(Object(Ce["a"])({},t.data()),{},{id:t.id}))})),e.loading=!1,console.log(e.rows);case 11:case"end":return t.stop()}}),t)})))()}}},Re=Ve,Se=Object(p["a"])(Re,ke,ye,!1,null,null,null),Te=Se.exports;h()(Se,{VBtn:x["a"],VCard:z["a"],VCardText:K["b"],VCardTitle:K["c"],VCol:ue["a"],VContainer:V["a"],VDataTable:W["a"],VDialog:me["a"],VIcon:ve["a"],VRow:pe["a"],VSelect:be["a"],VTextField:U["a"]});var $e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ExpenseTab",{attrs:{title:"ExpenseDada"}})},Ee=[],Me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-dialog",{attrs:{width:"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 lighten-2"},[e._v("編輯")]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"日期",type:"date"},model:{value:e.editedItem.spend_date,callback:function(t){e.$set(e.editedItem,"spend_date",t)},expression:"editedItem.spend_date"}})],1)],1),a("v-row",[a("v-col",[a("v-select",{attrs:{label:"帳戶",items:e.accounts},model:{value:e.editedItem.account_name,callback:function(t){e.$set(e.editedItem,"account_name",t)},expression:"editedItem.account_name"}})],1),a("v-col",[a("v-select",{attrs:{label:"分類",items:e.cates},model:{value:e.editedItem.cate_name,callback:function(t){e.$set(e.editedItem,"cate_name",t)},expression:"editedItem.cate_name"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"項目","hide-details":"auto"},model:{value:e.editedItem.note,callback:function(t){e.$set(e.editedItem,"note",t)},expression:"editedItem.note"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"金額","append-icon":"mdi-currency-usd",type:"number"},model:{value:e.editedItem.expense,callback:function(t){e.$set(e.editedItem,"expense",t)},expression:"editedItem.expense"}})],1)],1)],1),a("v-row",{staticClass:"mb-6"},[a("v-col",{staticClass:"text-left"},[e.editedIndex>-1?a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(e.editedItem.id,e.editedIndex)}}},[e._v("mdi-delete")]):e._e()],1),a("v-col",{staticClass:"text-right"},[a("v-btn",{staticClass:"white--text",attrs:{color:"green"},on:{click:e.save}},[e._v("儲存")])],1)],1)],1)],1)],1),a("v-row",[a("v-col",[a("v-text-field",{attrs:{type:"number",label:"年"},model:{value:e.search.y,callback:function(t){e.$set(e.search,"y",t)},expression:"search.y"}})],1),a("v-col",[a("v-select",{attrs:{items:e.months},model:{value:e.search.m,callback:function(t){e.$set(e.search,"m",t)},expression:"search.m"}})],1),a("v-col",[a("v-btn",{on:{click:e.getDataYM}},[e._v("查詢")])],1)],1),a("v-row",[a("v-col",[a("v-select",{attrs:{label:"帳戶",items:e.accounts},model:{value:e.search.account_name,callback:function(t){e.$set(e.search,"account_name",t)},expression:"search.account_name"}})],1),a("v-col",[a("v-select",{attrs:{label:"分類",items:e.cates,"return-object":"","item-text":"name","item-value":"id"},model:{value:e.search.cate_name,callback:function(t){e.$set(e.search,"cate_name",t)},expression:"search.cate_name"}})],1),a("v-col",[a("v-btn",{on:{click:e.getDataByCate}},[e._v("分類查詢")])],1)],1),a("v-row",[a("v-col",[a("v-text-field",{attrs:{"append-icon":"mdi-magnify"},model:{value:e.search.keyword,callback:function(t){e.$set(e.search,"keyword",t)},expression:"search.keyword"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"8"}}),a("v-col",{attrs:{cols:"4"}},[a("v-btn",{attrs:{outlined:"",color:"red",dark:""}},[e._v(" "+e._s(e.getTotal(e.rows))+" ")])],1)],1),a("v-data-table",{attrs:{"mobile-breakpoint":"300",headers:e.headers,items:e.rows,search:e.search.keyword,loading:e.loading,"items-per-page":100,"sort-by":e.sortBy,"sort-desc":e.sortDesc},on:{"click:row":e.editItem,"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t}},scopedSlots:e._u([{key:"item.spend_date",fn:function(t){var a=t.item;return[e._v(e._s(a.spend_date.slice(5,10)))]}}])})],1)},Be=[],qe="expenses",Ye={props:{title:{type:String,default:"expenses"}},data:function(){return{sortBy:"spend_date",sortDesc:!0,editedIndex:-1,dialog:!1,defaultItem:{note:"",expense:"",spend_date:(new Date).toISOString().slice(0,10)},editedItem:{},search:{y:(new Date).getFullYear(),m:(new Date).getMonth()+1},months:[],accounts:["","現金","信用卡"],cates:["餐費","加油","旅遊","水電"],rows:[],headers:[{text:"日期",value:"spend_date",width:"70"},{text:"項目",value:"note",width:"120"},{text:"支出",value:"expense",width:"70"}],loading:!1}},created:function(){console.log(this.title),this.monthData(),this.getDataYM(),this.getCates()},methods:{editItem:function(e){this.dialog=!0,this.editedIndex=this.rows.indexOf(e),this.editedItem=Object.assign({},e)},getTotal:function(e){var t=Object.keys(e).reduce((function(t,a){return t+1*e[a].expense}),0),a=new Intl.NumberFormat("en-US",{currency:"USD"});return t=a.format(t),t},monthData:function(){for(var e=0;e<=12;e++)e<10&&(e="0"+e),this.months.push(e);var t=(new Date).getMonth()+1;t<10&&(t="0"+t),this.search.m=t},save:function(){var e=this;return Object(ae["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.editedIndex>-1)){t.next=9;break}return a=Object(ne["e"])(ie,qe,e.editedItem.id),t.next=4,Object(ne["k"])(a,e.editedItem);case 4:Object.assign(e.rows[e.editedIndex],e.editedItem),console.log(e.editedItem),e.$nextTick((function(){e.defaultItem.date="",e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1})),t.next=14;break;case 9:return t.next=11,Object(ne["b"])(Object(ne["c"])(ie,qe),{spend_date:e.editedItem.spend_date,cate_name:e.editedItem.cate_name,note:e.editedItem.note,expense:e.editedItem.expense});case 11:n=t.sent,e.editedItem.id=n.id,e.rows.unshift(e.editedItem);case 14:e.dialog=!1;case 15:case"end":return t.stop()}}),t)})))()},deleteItem:function(e,t){var a=this;return Object(ae["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(confirm("確定刪除")){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,Object(ne["d"])(Object(ne["e"])(ie,qe,e));case 4:a.rows.splice(t,1),a.editedItem=Object.assign({},a.defaultItem),a.editedIndex=-1,a.dialog=!1;case 8:case"end":return n.stop()}}),n)})))()},getCates:function(){var e=this;return Object(ae["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.cates=[],a=Object(ne["c"])(ie,"cates"),n=Object(ne["j"])(a,Object(ne["i"])("prior")),t.next=5,Object(ne["f"])(n);case 5:r=t.sent,r.forEach((function(t){e.cates.push(t.data().name)})),console.log(e.cates);case 8:case"end":return t.stop()}}),t)})))()},getDataByCate:function(){var e=this;return Object(ae["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.rows=[],e.loading=!0,a=Object(ne["c"])(ie,qe),n=Object(ne["j"])(a,Object(ne["l"])("cate_name","==",e.search.cate_name),Object(ne["h"])(100)),""!=e.search.account_name&&void 0!=e.search.account_name&&(n=Object(ne["j"])(a,Object(ne["l"])("cate_name","==",e.search.cate_name),Object(ne["l"])("account_name","==",e.search.account_name),Object(ne["h"])(100))),t.next=7,Object(ne["f"])(n);case 7:r=t.sent,r.forEach((function(t){e.rows.push(Object(Ce["a"])(Object(Ce["a"])({},t.data()),{},{id:t.id}))})),e.loading=!1;case 10:case"end":return t.stop()}}),t)})))()},getDataYM:function(){var e=this;return Object(ae["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.rows=[],e.loading=!0,a=Object(ne["c"])(ie,e.title),n=Object(ne["j"])(a,Object(ne["i"])("spend_date","desc"),Object(ne["l"])("spend_date",">=",e.search.y+"-01-01"),Object(ne["l"])("spend_date","<=",e.search.y+"-12-31"),Object(ne["h"])(100)),"00"!=e.search.m&&(n=Object(ne["j"])(a,Object(ne["i"])("spend_date","desc"),Object(ne["l"])("spend_date",">=",e.search.y+"-"+e.search.m+"-01"),Object(ne["l"])("spend_date","<=",e.search.y+"-"+e.search.m+"-31"),Object(ne["h"])(100))),t.next=7,Object(ne["f"])(n);case 7:r=t.sent,r.forEach((function(t){e.rows.push(Object(Ce["a"])(Object(Ce["a"])({},t.data()),{},{id:t.id}))})),e.loading=!1,console.log(e.rows);case 11:case"end":return t.stop()}}),t)})))()}}},Fe=Ye,Ae=Object(p["a"])(Fe,Me,Be,!1,null,null,null),Ne=Ae.exports;h()(Ae,{VBtn:x["a"],VCard:z["a"],VCardText:K["b"],VCardTitle:K["c"],VCol:ue["a"],VContainer:V["a"],VDataTable:W["a"],VDialog:me["a"],VIcon:ve["a"],VRow:pe["a"],VSelect:be["a"],VTextField:U["a"]});var ze={components:{ExpenseTab:Ne}},Ke=ze,Ue=Object(p["a"])(Ke,$e,Ee,!1,null,null,null),Le=Ue.exports,Pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-app",[a("v-container",[a("v-row",[a("v-col",[a("v-text-field",{attrs:{"append-icon":"mdi-magnify"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),a("v-row",[a("v-col",[a("v-data-table",{attrs:{headers:e.headers,items:e.rows,search:e.search}})],1)],1)],1)],1)],1)},He=[],Je="cates",Ge={data:function(){return{search:"",rows:[],headers:[{text:"user",value:"user_sn",width:"100"},{text:"類別",value:"cate_id",width:"100"},{text:"cate",value:"cate_name",width:"100"}]}},mounted:function(){this.getData()},methods:{getData:function(){var e=this;return Object(ae["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=Object(ne["c"])(ie,Je),t.next=3,Object(ne["f"])(a);case 3:n=t.sent,n.forEach((function(t){e.rows.push(Object(Ce["a"])(Object(Ce["a"])({},t.data()),{},{id:t.id}))}));case 5:case"end":return t.stop()}}),t)})))()}}},Qe=Ge,We=Object(p["a"])(Qe,Pe,He,!1,null,null,null),Ze=We.exports;h()(We,{VApp:D["a"],VCol:ue["a"],VContainer:V["a"],VDataTable:W["a"],VRow:pe["a"],VTextField:U["a"]});var Xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-dialog",{attrs:{width:"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 lighten-2"},[e._v("編輯")]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"日期",type:"date"},model:{value:e.editedItem.spend_date,callback:function(t){e.$set(e.editedItem,"spend_date",t)},expression:"editedItem.spend_date"}})],1),a("v-col",[a("v-select",{attrs:{label:"分類",items:e.cates},model:{value:e.editedItem.cate_name,callback:function(t){e.$set(e.editedItem,"cate_name",t)},expression:"editedItem.cate_name"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"項目","hide-details":"auto"},model:{value:e.editedItem.note,callback:function(t){e.$set(e.editedItem,"note",t)},expression:"editedItem.note"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"金額","append-icon":"mdi-currency-usd",type:"number"},model:{value:e.editedItem.expense,callback:function(t){e.$set(e.editedItem,"expense",t)},expression:"editedItem.expense"}})],1)],1)],1),a("v-row",{staticClass:"mb-6"},[a("v-col",{staticClass:"text-left"},[e.editedIndex>-1?a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(e.editedItem.id,e.editedIndex)}}},[e._v("mdi-delete")]):e._e()],1),a("v-col",{staticClass:"text-right"},[a("v-btn",{staticClass:"white--text",attrs:{color:"green"},on:{click:e.save}},[e._v("儲存")])],1)],1)],1)],1)],1),a("v-row",[a("v-col",[a("v-text-field",{attrs:{type:"number",label:"年"},model:{value:e.search.y,callback:function(t){e.$set(e.search,"y",t)},expression:"search.y"}})],1),a("v-col",[a("v-select",{attrs:{items:e.months},model:{value:e.search.m,callback:function(t){e.$set(e.search,"m",t)},expression:"search.m"}})],1),a("v-col",[a("v-btn",{on:{click:e.getDataYM}},[e._v("查詢")])],1)],1),a("v-row",[a("v-col",[a("v-text-field",{attrs:{"append-icon":"mdi-magnify"},model:{value:e.search.keyword,callback:function(t){e.$set(e.search,"keyword",t)},expression:"search.keyword"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"2"}}),a("v-col",{staticClass:"text-right",attrs:{cols:"8"}},[a("v-chip",{staticClass:"ma-2"},[e._v(e._s(e.getTotal(e.rows)))])],1)],1),a("v-data-table",{attrs:{"mobile-breakpoint":"300",headers:e.headers,items:e.rows,search:e.search.keyword,loading:e.loading},on:{"click:row":e.editItem},scopedSlots:e._u([{key:"item.spend_date",fn:function(t){var a=t.item;return[e._v(e._s(a.spend_date.slice(5,10)))]}}])})],1)},et=[],tt={data:function(){return{editedIndex:-1,dialog:!1,defaultItem:{note:"",expense:"",spend_date:(new Date).toISOString().slice(0,10)},editedItem:{},search:{y:(new Date).getFullYear(),m:(new Date).getMonth()+1},months:[],cates:["餐費","加油","水電"],rows:[],headers:[{text:"日期",value:"spend_date",width:"70"},{text:"項目",value:"note",width:"120"},{text:"支出",value:"expense",width:"70"}],loading:!1}},created:function(){this.monthData(),this.getDataYM()},methods:{editItem:function(e){this.dialog=!0,this.editedIndex=this.rows.indexOf(e),this.editedItem=Object.assign({},e)},getTotal:function(e){var t=Object.keys(e).reduce((function(t,a){return t+1*e[a].expense}),0),a=new Intl.NumberFormat("en-US",{currency:"USD"});return t=a.format(t),t},monthData:function(){for(var e=0;e<=12;e++)e<10&&(e="0"+e),this.months.push(e);var t=(new Date).getMonth()+1;t<10&&(t="0"+t),this.search.m=t},save:function(){var e=this;return Object(ae["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.editedIndex>-1)){t.next=8;break}return a=Object(ne["e"])(ie,"spends",e.editedItem.id),t.next=4,Object(ne["k"])(a,e.editedItem);case 4:Object.assign(e.rows[e.editedIndex],e.editedItem),e.$nextTick((function(){e.defaultItem.date="",e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1})),t.next=13;break;case 8:return t.next=10,Object(ne["b"])(Object(ne["c"])(ie,"spends"),{spend_date:e.editedItem.spend_date,cate_name:e.editedItem.cate_name,note:e.editedItem.note,expense:e.editedItem.expense});case 10:n=t.sent,e.editedItem.id=n.id,e.rows.unshift(e.editedItem);case 13:e.dialog=!1;case 14:case"end":return t.stop()}}),t)})))()},deleteItem:function(e,t){var a=this;return Object(ae["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(confirm("確定刪除")){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,Object(ne["d"])(Object(ne["e"])(ie,"spends",e));case 4:a.rows.splice(t,1),a.editedItem=Object.assign({},a.defaultItem),a.editedIndex=-1,a.dialog=!1;case 8:case"end":return n.stop()}}),n)})))()},getDataYM:function(){var e=this;return Object(ae["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.rows=[],e.loading=!0,a=Object(ne["c"])(ie,"spends"),n=Object(ne["j"])(a,Object(ne["i"])("expense","desc"),Object(ne["l"])("expense","!=",!1),Object(ne["h"])(10)),"00"!=e.search.m&&(n=Object(ne["j"])(a,Object(ne["l"])("expense","!=",!1),Object(ne["h"])(10))),t.next=7,Object(ne["f"])(n);case 7:r=t.sent,r.forEach((function(t){e.rows.push(Object(Ce["a"])(Object(Ce["a"])({},t.data()),{},{id:t.id}))})),e.loading=!1,console.log(e.rows);case 11:case"end":return t.stop()}}),t)})))()}}},at=tt,nt=a("cc20"),rt=Object(p["a"])(at,Xe,et,!1,null,null,null),st=rt.exports;h()(rt,{VBtn:x["a"],VCard:z["a"],VCardText:K["b"],VCardTitle:K["c"],VChip:nt["a"],VCol:ue["a"],VContainer:V["a"],VDataTable:W["a"],VDialog:me["a"],VIcon:ve["a"],VRow:pe["a"],VSelect:be["a"],VTextField:U["a"]});var ct=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-chip",{staticClass:"ma-2",attrs:{color:"orange",outlined:""}},[e._v(e._s(e.getTotal(e.rows)))]),a("v-dialog",{attrs:{width:"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 lighten-2"},[e._v("編輯")]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"日期",type:"date"},model:{value:e.editedItem.spend_date,callback:function(t){e.$set(e.editedItem,"spend_date",t)},expression:"editedItem.spend_date"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"項目","hide-details":"auto"},model:{value:e.editedItem.note,callback:function(t){e.$set(e.editedItem,"note",t)},expression:"editedItem.note"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"金額","append-icon":"mdi-currency-usd",type:"number"},model:{value:e.editedItem.income,callback:function(t){e.$set(e.editedItem,"income",t)},expression:"editedItem.income"}})],1)],1)],1),a("v-row",{staticClass:"mb-6"},[a("v-col",{staticClass:"text-left"},[e.editedIndex>-1?a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(e.editedItem.id,e.editedIndex)}}},[e._v("mdi-delete")]):e._e()],1),a("v-col",{staticClass:"text-right"},[a("v-btn",{staticClass:"white--text",attrs:{color:"green"},on:{click:e.save}},[e._v("儲存")])],1)],1)],1)],1)],1),a("v-col",{staticClass:"text-right"},[a("v-btn",{staticClass:"white--text",attrs:{color:"blue-grey"},on:{click:e.openDialog}},[e._v("新增")])],1),a("v-data-table",{attrs:{items:e.rows,headers:e.headers,loading:e.loading,"mobile-breakpoint":"300"},on:{"click:row":e.editItem}})],1)},it=[],ot="incomes",dt={data:function(){return{rows:[],headers:[{text:"日期",value:"spend_date",width:"120"},{text:"項目",value:"note",width:"150"},{text:"金額",value:"income",width:"90"}],loading:!1,dialog:!1,defaultItem:{note:"",income:"",spend_date:(new Date).toISOString().slice(0,10)},editedItem:{note:"",income:"",spend_date:(new Date).toISOString().slice(0,10)},editedIndex:-1}},created:function(){this.getData()},methods:{editItem:function(e){this.dialog=!0,this.editedIndex=this.rows.indexOf(e),this.editedItem=Object.assign({},e)},deleteItem:function(e,t){var a=this;return Object(ae["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(confirm("確定刪除")){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,Object(ne["d"])(Object(ne["e"])(ie,ot,e));case 4:a.rows.splice(t,1),a.editedItem=Object.assign({},a.defaultItem),a.editedIndex=-1,a.dialog=!1;case 8:case"end":return n.stop()}}),n)})))()},getTotal:function(e){var t=Object.keys(e).reduce((function(t,a){return t+1*e[a].income}),0),a=new Intl.NumberFormat("en-US",{currency:"USD"});return t=a.format(t),t},getData:function(){var e=this;return Object(ae["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.rows=[],e.loading=!0,a=Object(ne["c"])(ie,ot),n=Object(ne["j"])(a,Object(ne["l"])("income","!=",0),Object(ne["i"])("income")),t.next=6,Object(ne["f"])(n);case 6:r=t.sent,r.forEach((function(t){e.rows.push(Object(Ce["a"])(Object(Ce["a"])({},t.data()),{},{id:t.id}))})),e.loading=!1,console.log(e.rows);case 10:case"end":return t.stop()}}),t)})))()},openDialog:function(){this.editedItem=Object.assign({},this.defaultItem),this.dialog=!0},save:function(){var e=this;return Object(ae["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.editedIndex>-1)){t.next=9;break}return a=Object(ne["e"])(ie,ot,e.editedItem.id),n={spend_date:e.editedItem.spend_date,note:e.editedItem.note,income:1*e.editedItem.income},t.next=5,Object(ne["k"])(a,n);case 5:Object.assign(e.rows[e.editedIndex],e.editedItem),e.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1})),t.next=15;break;case 9:return console.log(e.editedItem),t.next=12,Object(ne["b"])(Object(ne["c"])(ie,ot),{spend_date:e.editedItem.spend_date,note:e.editedItem.note,income:1*e.editedItem.income});case 12:r=t.sent,e.editedItem.id=r.id,e.rows.unshift(e.editedItem);case 15:e.dialog=!1;case 16:case"end":return t.stop()}}),t)})))()}}},lt=dt,ut=Object(p["a"])(lt,ct,it,!1,null,null,null),mt=ut.exports;h()(ut,{VBtn:x["a"],VCard:z["a"],VCardText:K["b"],VCardTitle:K["c"],VChip:nt["a"],VCol:ue["a"],VContainer:V["a"],VDataTable:W["a"],VDialog:me["a"],VIcon:ve["a"],VRow:pe["a"],VTextField:U["a"]});var vt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("Score")])},pt=[],bt={},ht=bt,ft=Object(p["a"])(ht,vt,pt,!1,null,null,null),xt=ft.exports,gt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",[e._v(" "+e._s(this.id)+" "),a("v-dialog",{attrs:{width:"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 grey lighten-2"},[e._v("股票編輯")]),a("v-card-text",[a("v-row",[a("v-col",[a("v-text-field",{attrs:{label:"日期",type:"date"},model:{value:e.editRow.date,callback:function(t){e.$set(e.editRow,"date",t)},expression:"editRow.date"}})],1),a("v-col",[a("v-text-field",{attrs:{label:"名稱"},model:{value:e.editRow.stockName,callback:function(t){e.$set(e.editRow,"stockName",t)},expression:"editRow.stockName"}})],1),a("v-col",[a("v-text-field",{attrs:{label:"股數",type:"number"},model:{value:e.editRow.qty,callback:function(t){e.$set(e.editRow,"qty",t)},expression:"editRow.qty"}})],1),a("v-col",[a("v-text-field",{attrs:{label:"單價",type:"number"},model:{value:e.editRow.price,callback:function(t){e.$set(e.editRow,"price",t)},expression:"editRow.price"}})],1)],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:e.cancel}},[e._v("取消")]),a("v-btn",{staticClass:"white--text",attrs:{color:"green"},on:{click:e.save}},[e._v("儲存")])],1)],1)],1),a("v-form",[a("v-row",{staticClass:"mb-6"},[a("v-col",[a("v-btn",{staticClass:"white--text",attrs:{color:"cyan"},on:{click:e.openDialog}},[e._v("新增")])],1),a("v-col",{attrs:{cols:"6",md:"4"}},[a("v-alert",{attrs:{border:"right",type:"info","colored-border":"",elevation:"2"}},[a("h3",{staticClass:"text-center"},[e._v("合計: "+e._s(e.total))])])],1)],1)],1),a("v-data-table",{attrs:{headers:e.headers,items:e.rows},scopedSlots:e._u([{key:"item.date",fn:function(t){var a=t.item;return[e._v(e._s(a.date.toDate().toISOString().slice(0,10)))]}},{key:"item.stockName",fn:function(t){var n=t.item;return[a("router-link",{attrs:{to:{name:"StockTransaction",params:{id:n.id}}}},[e._v(e._s(n.stockName))])]}},{key:"item.type",fn:function(t){var n=t.item;return[a("v-chip",{attrs:{dark:"",color:e.getTypeColor(n)}},[e._v(e._s(e.getType(n)))])]}},{key:"item.amt",fn:function(t){var a=t.item;return[e._v(e._s(a.price*a.qty))]}},{key:"item.edit",fn:function(t){var n=t.item;return[a("v-icon",{on:{click:function(t){return e.edit(n)}}},[e._v("mdi-pencil")])]}},{key:"item.del",fn:function(t){var n=t.item;return[a("v-icon",{on:{click:function(t){return e.destory(n)}}},[e._v("mdi-delete")])]}}])})],1)],1)},wt=[],It="stockTransaction",jt={data:function(){return{dialog:!1,id:this.$route.params.id,rows:[],editRow:{date:(new Date).toISOString().slice(0,10)},headers:[{text:"",value:"del"},{text:"日期",value:"date"},{text:"交易類別",value:"type"},{text:"名稱",value:"stockName"},{text:"股數",value:"qty"},{text:"單價",value:"price"},{text:"小計",value:"amt"},{text:"",value:"edit"}],editedIndex:-1}},created:function(){this.getMoney()},computed:{total:function(){var e=0;return this.rows.forEach((function(t){e+=t.price*t.qty})),e}},methods:{cancel:function(){this.dialog=!1,this.editRow={},this.editedIndex=-1},getType:function(e){return e.qty>0?"買進":"賣出"},getTypeColor:function(e){return e.qty>0?"orange":"green"},openDialog:function(){this.dialog=!0},edit:function(e){console.log(e.date),this.editedIndex=this.rows.indexOf(e),this.editRow=Object.assign({},e),console.log(this.editRow),this.editRow.date=this.editRow.date.toDate().toISOString().slice(0,10),console.log(this.editRow),this.dialog=!0},save:function(){this.editedIndex>-1?this.update():this.create()},create:function(){var e=this;return Object(ae["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=ne["a"].fromDate(new Date(e.editRow.date)),t.next=3,Object(ne["b"])(Object(ne["c"])(ie,It),{date:a,stockName:e.editRow.stockName,qty:e.editRow.qty,price:e.editRow.price}).then((function(t){e.editRow.id=t.id,e.dialog=!1,e.editRow.date=a,e.rows.unshift(e.editRow),e.editRow={},e.editRow.date=(new Date).toISOString().slice(0,10),console.log(t.id)}));case 3:case"end":return t.stop()}}),t)})))()},update:function(){var e=this;return Object(ae["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.editRow.date=ne["a"].fromDate(new Date(e.editRow.date)),a=Object(ne["e"])(ie,It,e.editRow.id),t.next=4,Object(ne["k"])(a,e.editRow).then((function(){Object.assign(e.rows[e.editedIndex],e.editRow),e.dialog=!1,e.editRow={},e.editedIndex=-1}));case 4:case"end":return t.stop()}}),t)})))()},destory:function(e){var t=this;return Object(ae["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.editedIndex=t.rows.indexOf(e),a.next=3,Object(ne["d"])(Object(ne["e"])(ie,It,e.id)).then(t.rows.splice(t.editedIndex,1));case 3:case"end":return a.stop()}}),a)})))()},del:function(e){console.log(e.id)},getMoney:function(){var e=this;return Object(ae["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="",null!=e.id?(a=Object(ne["j"])(Object(ne["c"])(ie,It),Object(ne["l"])("stockID","==",e.id)),console.log("ddd")):a=Object(ne["c"])(ie,It),t.next=4,Object(ne["f"])(a);case 4:n=t.sent,r=n.docs,r.forEach((function(t){var a=t.data();a.id=t.id,e.rows.push(a)}));case 7:case"end":return t.stop()}}),t)})))()}}},_t=jt,Ot=(a("c348"),a("0798")),kt=a("ce7e"),yt=a("4bd4"),Ct=a("2fa4"),Dt=Object(p["a"])(_t,gt,wt,!1,null,null,null),Vt=Dt.exports;h()(Dt,{VAlert:Ot["a"],VBtn:x["a"],VCard:z["a"],VCardActions:K["a"],VCardText:K["b"],VCardTitle:K["c"],VChip:nt["a"],VCol:ue["a"],VContainer:V["a"],VDataTable:W["a"],VDialog:me["a"],VDivider:kt["a"],VForm:yt["a"],VIcon:ve["a"],VRow:pe["a"],VSpacer:Ct["a"],VTextField:U["a"]});var Rt=new M["a"]({mode:"history",routes:[{name:"Score",path:"/score",component:xt},{name:"SpendCate",path:"/spend/cate",component:Ze},{name:"Spend",path:"/spend",component:fe},{name:"Expense",path:"/expense",component:Oe},{name:"ExpenseGas",path:"/expense/gas",component:Te},{name:"ExpenseDada",path:"/expense/dada",component:Le},{name:"ExpenseTab",path:"/expense-tab",component:Ne},{name:"SpendTab",path:"/spend-tab",component:st},{name:"CashIn",path:"/cash-in",component:mt},{name:"Login",path:"/login",component:P},{name:"Stock",path:"/stock",component:X},{name:"StockTransaction",path:"/stock-transaction/:id",component:Vt},{name:"StockTransactionAll",path:"/stock-transaction",meta:{requiresAuth:!0},component:Vt}]});Rt.beforeEach((function(e,t,a){var n=Object(d["a"])(),r=n.currentUser,s=e.matched.some((function(e){return e.meta.requiresAuth}));s&&!r?a("/login"):a()}));var St=Rt;n["a"].config.productionTip=!1,n["a"].use(M["a"]),new n["a"]({vuetify:E,router:St,render:function(e){return e(T)}}).$mount("#app")},c348:function(e,t,a){"use strict";a("0af9")}});
//# sourceMappingURL=app.ec46597b.js.map